# ADR - Выбор архитектурного подхода

Участники: Команда разработки: 2 backend-разработчика, 2 frontend-разработчика, 1 тестировщик, 1 дизайнер.

Дата: 22.09.2024

Статус: Проект

## Контекст

Мы разрабатываем мобильное приложение для знакомств, которое должно поддерживать высокую масштабируемость и быть доступным для большого числа пользователей одновременно.
Ожидается, что приложение будет обрабатывать большое количество данных, включая профили пользователей, чаты, уведомления и фильтрацию потенциальных партнеров.
Так как проект находится на стадии старта, важно учитывать ограничения по финансам и размеру команды.

У нас есть бюджет $100,000 на первый год разработки и поддержка. В команде разработчиков 5 человек, среди которых есть опытные специалисты в области мобильной разработки и архитектуры систем.

## Рассматриваемые варианты

1. Серверная архитектура
   - Плюсы: Хорошо подходит для централизованного управления данными, проще в реализации, легкость в обеспечении безопасности данных и контроля доступа.
   - Минусы: Возможны проблемы с масштабируемостью при быстром росте числа пользователей, высокий риск единой точки отказа.
   - Вывод: Подходит для MVP, но потребуется дальнейшая оптимизация для масштабирования.

2. Бессерверная архитектура
   - Плюсы: Высокая масштабируемость, оплата по мере использования (экономия ресурсов при небольшом числе пользователей), минимальная необходимость в управлении инфраструктурой.
   - Минусы: Более сложное логирование и отладка, возможные проблемы с холодными стартами функций.
   - Вывод: Хорошо подходит для старта, но может вызвать трудности при необходимости обеспечения низких задержек.

3. P2P (одноранговая сеть)
   - Плюсы: Нет необходимости в центральном сервере, распределенная архитектура снижает вероятность единой точки отказа.
   - Минусы: Сложнее обеспечивать безопасность данных и управление, сложнее в реализации, особенно с учетом нашей небольшой команды.
   - Вывод: Не подходит для приложения с высоким уровнем чувствительности данных и ограниченным бюджетом.

## Решение

Выбрана серверная архитектура для разработки MVP.

## Обоснование

Серверная архитектура проще в реализации с точки зрения начальной разработки и обеспечения безопасности. 
Это также позволит нам лучше контролировать данные пользователей и быстрее реагировать на возникающие проблемы.
Несмотря на потенциальные проблемы с масштабированием, для первой версии приложения серверный подход представляется оптимальным, так как позволяет быстро выпустить продукт на рынок с минимальными рисками.

## Последствия

Использование серверной архитектуры позволит команде быстро разработать и развернуть MVP с минимальными затратами, 
но потребуется дополнительная работа для масштабирования в случае быстрого роста числа пользователей.

### Риски

- Возможные проблемы с масштабируемостью и отказоустойчивостью.
- Необходимость более тщательной оптимизации по мере роста нагрузки.

## Решение рисков

Для управления микросервисами будет использоваться Kubernetes, а для мониторинга сервисов — Prometheus и Grafana.
Для управления аутентификацией и авторизацией будет использован OAuth2, что повысит безопасность взаимодействий между сервисами.

## Затронутые области

- Архитектура.
- Инфраструктура.
- Масштабирование системы.

## История
